---
title: '第二回: Webの正体と、時空を超えるデプロイ (Git / GitHub / Vercel)'
description: 'プログラミング言語とフレームワークの関係を知り、Gitで時間を操り、Vercelで世界に公開する'
---
import Callout from '../../../../components/Callout.astro';

**Goal:**
React/TSのプロジェクト構造（npm）を理解し、**Gitで「失敗」を恐れない状態**を作り、**Vercelで世界に公開**する。

---

## 1. 【概念】プログラミング言語とフレームワークの正体

Viteを使ってプロジェクトを作る前に、**「そもそも、私たちは何を書くのか？」** を整理しましょう。

### 🏗️ 言語と役割：人間で例えると？
Webサイトを作る技術は、人間の体に例えるとわかりやすいです。

* **HTML:** **「骨格」**。見出しや文章の構造。
* **CSS:** **「見た目（服・メイク）」**。色や配置。
* **JavaScript (JS):** **「筋肉」**。
    * クリックしたら動く、データを取得する、計算する。
    * Webページに「動き」を与える唯一の言語です。
* **TypeScript (TS):** **「脳みそ（理性）」**。
    * JSは自由すぎて、たまに暴走します（バグ）。
    * 「ここは数字しか入れちゃダメ！」と**説明書（型）**をつけることで、安全に開発できるようにしたのがTSです。
    * **現代のプロ開発現場では、TSが標準です。**

### 🏭 フレームワーク (React) とは？
「筋肉（JS）」と「脳みそ（TS）」があれば何でも作れます。しかし、ゼロから全部作るのは大変すぎます。
毎回「ボタンの表示プログラム」を一から書きたくないですよね？

* **React:** **「重機・工場」**。
    * よく使うパーツ（ボタン、ヘッダーなど）を効率よく作るための仕組みです。
* **Vite:** **「超高速な建築ロボット」**。
    * Reactなどの材料を組み立てて、一瞬でWebサイトの形にしてくれるツールです。

---

## 2. 【実践】Viteで環境を一瞬で作る

では、Day 1で学んだCLIを使って、最新の環境を一瞬で構築しましょう。

### ⚡ コマンド一発で構築
ターミナルで、プロジェクトを作りたい場所（`cd ~/projects` など）に移動してから実行します。

```bash
npm create vite@latest
```

質問には以下のように答えてください：

1. Project name: `my-app`
2. Select a framework: `React`
3. Select a variant: `TypeScript`

作成できたら、その中に入って準備をします。

```bash
cd my-app
npm install  # 重要な儀式（後述）
npm run dev  # 開発サーバー起動
```
ブラウザで `http://localhost:5173` を開いて、ViteとReactのロゴが回っていれば成功です！

3. 【概念】npm と「レシピ」の秘密
さっき何気なく打った `npm install`。これこそが、現代開発のキモです。

### 📜 package.json = 「設計図（レシピ）」
プロジェクトフォルダの中にある package.json を見てみましょう。 ここには、 *「このアプリを作るのに必要な材料」* が書かれています。

```json
  "dependencies": {
    "react": "^18.2.0",
    "react-dom": "^18.2.0"
  }
```
* npm install:

  * 「レシピ（package.json）」を見て、インターネット上の巨大倉庫（npm registry）から材料を買い出ししてくるコマンドです。

* node_modules:

  * 買い出ししてきた「実物の材料」が入っている巨大な冷蔵庫です。
  * 重すぎる（ファイル数が数万個！）ので、絶対にGitに上げてはいけません。

<Callout type="warning" emoji="⚠️">

**package-lock.json は絶対に消すな！**

「レシピには『豚肉』と書いてあるけど、産地までは書いてない」状態が **package.json** です。 
「XX県産XX農場の豚肉」と、完全に材料を固定した証拠 が **package-lock.json** です。
チーム全員が同じ味（動作）を再現するために必須のファイルです！ 
</Callout>

## 4. 【実践】Gitによる「時空操作」
コードを書いていると、「あ！間違えて動かなくなった！1時間前に戻りたい！」ということが必ずあります。 
それを叶えるのが **Git（ギット）** です。

### 💾 セーブポイントを作る
ゲームのセーブと同じ感覚で操作します。

1. **時空操作の開始** (初回のみ)

```bash
git init
```
これで、このフォルダはGitの監視下に入りました。

2. **セーブしたいファイルを選ぶ (Staging)**

```bash
git add .
```
「すべての変更 (.) を、次のセーブ対象にするよ」という合図です。

3. **セーブ実行 (Commit)**

```bash
git commit -m "最初のセーブ！"
```

これで「歴史」が刻まれました。

### 🕰️ 実践：タイムトラベル実験（破壊と再生）
ここが一番面白いところです。やってみましょう。

1. 破壊する: VS Codeで `src/App.tsx` を開き、中身を全部消して、適当な文字（「あ」とか）を打って保存してください。
ブラウザを見ると…当然、画面は真っ白。エラーで動きません。絶望です。😱

2. 時を戻す: ターミナルで魔法の呪文を唱えます。

```bash
git restore .
#（または git checkout .）
```

3. 確認する: VS Codeを見てください。**…コードが復活しています！** 🎉 ブラウザも元通り動いています。

これがGitです。 **Commit（セーブ）さえしておけば、どんなに破壊しても呪文一つで過去に戻れます。**
だから、恐れずにコードをいじくり回してください！

## 5. 【概念】Web公開の仕組み（本来の姿 vs Vercel）
さて、手元（Localhost）ではサイトが動きました。でも、これはまだ世界中の人からは見えません。 **「公開（Deploy）」** する必要があります。

### 🏰 本来のWeb公開手順
もし「Vercel」などの便利なツールがなかったら、皆さんは今日中に帰れません。 
本来、Webサイトを公開するには、以下の **「インフラ構築」** が必要です。

1. 土地を借りる: AWSやLinuxサーバーを契約する。
2. Webサーバーソフトを入れる:
  * ただファイルを置いただけでは、ブラウザからは見れません。
  * Nginx (エンジンエックス) や Apache といった、「リクエストを受け付けてHTMLを返す専門ソフト」をインストールし、CLIで設定ファイルを書く必要があります。
3. セキュリティ設定: ファイアウォールを設定しないと、一瞬でハッカーに攻撃されます。
4. ファイル転送: 更新するたびに、FTPなどでファイルをアップロードし、サーバーを再起動…。

**…文字を1文字直すたびに、これをやりたいですか？** （絶対に嫌ですよね）

### 🚀 革命児 Vercel
そこで登場するのが、私たちが使う Vercel です。

* 「サーバー構築？Nginxの設定？ 全部裏でやっておいたよ」
* 「君は GitHub にコードを置くだけ でいい。あとは自動でやってあげる」

これが現代のWeb開発（PaaS / Hosting）です。 Vercelは魔法ではありません。

 **「超優秀なサーバー管理人が、裏で猛スピードで作業してくれている」** のです。

## 6. 【実践】GitHub経由でVercelへ
では、その「超優秀な管理人（Vercel）」にコードを渡すために、まずは GitHub にコードを預けましょう。

### Step 1: GitHubにアップロード (Push)
1. GitHubで「New Repository」を作成（名前は my-first-app など）。
2. 画面に表示されたコマンドを参考に、ターミナルで実行します。

```bash
# 転送先(origin)を登録
git remote add origin https://github.com/ユーザー名/リポジトリ名.git

# メインのブランチ名を「main」に確定
git branch -M main

# GitHubへアップロード
git push -u origin main
```

### Step 2: Vercelでデプロイ
1. Vercelのダッシュボード に行き、「Add New...」→「Project」。
2. さっき作った my-first-app が表示されるので「Import」ボタンを押す。
3. 設定は何も変えずに 「Deploy」 をクリック！

### Step 3: 祝杯 🥂
発行されたURL（例: https://my-app.vercel.app ）をクリックしてみてください。
**あなたの作ったサイトが、インターネット越しに表示されました！**
このURLをスマホで送れば、友達も家族もあなたのサイトを見ることができます。

## 7. 【体験】CI/CD（継続的デリバリー）
最後に、現代の開発スタイルを体験しましょう。

1. VS Codeで src/App.tsx の文字を少し変える（例: "Vite + React" → "Hello World!"）。
2. Gitで保存してアップロードする。

```bash
git add .
git commit -m "文字を変更"
git push
```

3. Vercelのダッシュボードを見る。

* あなたが何もしなくても、自動的に「Building...」が始まり、サイトが更新されます。

これが **CI/CD** 。 「コードを書くことだけに集中できる」 最強の環境が整いました。

## 📝 宿題：Mission
次回は、この環境を使って「チーム開発」を行います。その準備をしてきてください。

[ ] 自分のサイトをカスタマイズ: 背景色を変えたり、文字を変えたりして、自分だけのページにしてデプロイする。

[ ] スマホで確認: 自分のスマホでVercelのURLを開き、スクショを撮る。

[ ] コマンド復習: git add, git commit, git push を息をするように打てるようにしておく。