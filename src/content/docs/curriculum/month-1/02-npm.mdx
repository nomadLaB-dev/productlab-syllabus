---
title: "第2回：npm/pnpmとWEBの仕組み"
---

import { Steps, Aside, Card, CardGrid } from '@astrojs/starlight/components';

## 🌟 今日の目的
プロジェクトを支える「設計図」の深い仕組み、インターネットの構造、そして現場で欠かせない「保守・運用」の考え方をマスターします。

---

## 1. package.json と package-lock.json

第1回で作ったプロジェクトには、2つの重要な設定ファイルがあります。

### 📄 package.json (注文書)
あなたが「これを使いたい！」と宣言するファイルです。
- `dependencies`: サービスを動かすのに必要な道具。
- `devDependencies`: 開発中（テストやビルド）にだけ使う道具。

### 🔒 pnpm-lock.yaml / package-lock.json (確定レシート)
`pnpm install` した瞬間に自動で作られる、**「実際にどのバージョンを入れたか」の全記録**です。

<Aside type="tip">
  **なぜ「レシート」が大事なの？**
  「最新のジャガイモ」と注文しても、今日と明日では大きさが違うかもしれません。lockファイルは「あの時のあのサイズのジャガイモ！」と特定してくれるので、チーム全員が全く同じ環境を再現できるんです。
</Aside>

<Aside type="danger">
  **ノマドLaBの掟** `pnpm-lock.yaml`（または `package-lock.json`）は、手動で編集しちゃダメ！ Gitにも必ず含めて、チーム全員で共有します。
</Aside>

---

## 2. バージョンの読み方：SemVer

ライブラリのバージョン番号 `1.2.3` には重要なルールがあります。

1. **メジャー (1)**：超大規模アップデート。使い方が変わるため、慎重に更新。
2. **マイナー (2)**：新機能追加。これまでの使い方はそのまま。
3. **パッチ (3)**：小さなバグ修正。

<Aside type="note">
  **謎の記号 `^` (キャレット)**
  `package.json` には `^1.2.3` と書かれていることが多いです。これは「メジャーバージョンが変わらない範囲なら、勝手に少し新しくしてもいいよ」という許可証です。
</Aside>

---

## 3. インターネットはどう繋がっている？

ブラウザに `http://localhost:5173` と打った時、裏側で起きていること。

### 🏠 IPアドレスとDNS
- **IPアドレス**: コンピュータのインターネット上の「住所」（例: `142.250.196.110`）。
- **DNS**: 名前（google.com）を住所（IPアドレス）に変換してくれる電話帳サービス。

### 🚪 ポート番号（窓口）
一つの住所（PC）の中には、たくさんの窓口（ポート）があります。
* **80 / 443**: Webサイトを見るための標準の窓口。
* **5173**: Viteが開発用に一時的に開く、あなた専用の窓口。

<Aside type="caution">
  もし「このポートはすでに使われています」とエラーが出たら、別の開発ツールがその窓口を占領している証拠です。PCを再起動するか、使っていないツールを閉じましょう。
</Aside>

---

## 4. クライアントとサーバー：どこでお料理する？

<Steps>
1. **URLの入力**
   ユーザーがブラウザのアドレスバーにURLを入力してEnterを押します。
   * **例:** `http://www.example.com`

2. **リクエストの作成と送信**
   ブラウザは入力されたURLに基づいて**HTTPリクエスト**を作成し、Webサーバーへ送信します。

3. **サーバーでの処理**
   Webサーバーがリクエストを受け取り、必要なリソース（ファイルやデータ）を探索して**レスポンス**を作成します。
   * この際、サーバー側ではプログラムの実行やデータベースへのアクセスが行われることがあります。

4. **レスポンスの返送**
   Webサーバーがブラウザに対して**HTTPレスポンス**を送り返します。
   * レスポンスには、ステータスコード（200 OKなど）やデータ本体、ヘッダー情報が含まれます。

5. **レンダリング**
   ブラウザが受け取ったレスポンス（HTML/CSS/JSなど）を解析し、画面に美しく表示します。
</Steps>

### 🍳 調理場所の違い
- **SPA (Single Page Application)**: **「セルフサービス形式」**。ブラウザにお客さんが来てから、その場で具材を組み立てます。
- **SSR (Server Side Rendering)**: **「出前形式」**。お店の厨房（サーバー）ですでにお料理を完成させてから届けます。

<Aside type="tip">
  初心者はまず、 **SPA（Viteで作成した今の環境）** に慣れましょう！「ブラウザの上でプログラムが動いている感覚」を掴むのが上達の近道です。
</Aside>

---

## 🛡️ コラム：ソフトウェアは「生き物」である

コードは放っておくと「腐敗」します。これを防ぐのが **「保守・運用」** です。

### 🤖 自動化の味方「CI/CD」
人間が毎回手作業でチェックするのは大変です。そこで「ロボットの警備員」を使います。
- **CI (継続的インテグレーション)**: コードを保存したら、自動で「味見（テスト）」をしてミスがないかチェックする。
- **CD (継続的デリバリー)**: チェックが通ったら、自動で「世界に公開（デプロイ）」までやってくれる。

---

## 🚀 今週の宿題

来週はいよいよ、自分のコードを世界に公開します！

### 1. GitHubアカウントの作成
[GitHub公式サイト](https://github.com/) でアカウントを作成してください。
- ユーザー名は、エンジニアの名刺になります。
- **二要素認証（2FA）**は必ず設定しましょう（家の大事な鍵です！）。

### 2. Gitの初期設定（config）
WSL2のターミナルで、自分の情報を登録します。

```bash
# あなたの名前に書き換えてね（英語がおすすめ）
git config --global user.name "Your Name"

# GitHubに登録したメールアドレスに書き換えてね
git config --global user.email "your@example.com"
```

### 3. AIに聞いてみよう！
「GitHubアカウントを作ったよ！ Gitの user.name と user.email を設定する理由はなぜ？ チーム開発の視点で教えて！」

### 4. ProgateのHTML/CSSは初級までは終わらせておこう