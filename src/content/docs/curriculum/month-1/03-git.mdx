---
title: "第3回：Git/GitHub & Deploy"
---

import { Steps, Aside, Card, CardGrid } from '@astrojs/starlight/components';

## 🌟 今日の目的
Gitを「タイムマシン」として使いこなし、GitHubとVercelを使って自分のサイトを世界に公開します。

---

## 1. Gitの全体像：2つの「倉庫」

Gitを使いこなすコツは、自分のPC内にある**「ローカルリポジトリ」**と、ネット上にある**「リモートリポジトリ」**の違いを意識することです。

<CardGrid>
  <Card title="ローカルリポジトリ" icon="laptop">
    自分のPC内の倉庫。
    「セーブ（コミット）」を溜めておく場所。ネットがなくても使えるよ。
  </Card>
  <Card title="リモートリポジトリ" icon="external">
    ネット上（GitHub）の倉庫。
    みんなに見せたり、バックアップとして保管する場所だよ。
  </Card>
</CardGrid>

### 📸 ローカルでの保存方法
まずは自分のPC内で「セーブポイント」を作りましょう。

<Steps>
1. **編集**: VS Codeなどでコードを書く。→Ctrl(command) + S で保存
2. **`git add .`**: セーブするファイルを「ステージ（撮影台）」に乗せる。
3. **`git commit -m "feat: メッセージ"`**: アルバム（ローカルリポジトリ）に保存して完了！
</Steps>

---

## 2. コミットメッセージの書き方

後から過去のデータに戻るときに迷わないよう、メッセージに「接頭辞（プレフィックス）」をつけるのがプロの作法です。

| 接頭辞 | 意味 | 例 |
| :--- | :--- | :--- |
| **feat:** | 新機能の追加 | `feat: ログインボタンを追加` |
| **fix:** | バグの修正 | `fix: 文字化けを修正` |
| **docs:** | ドキュメントの変更 | `docs: READMEを更新` |
| **style:** | 見た目の整形 | `style: インデントを直した` |
| **refactor:** | リファクタリング (機能追加・バグ修正以外) | `refactor: ボタンをシンプルに` |
| **test:** | テストコードの追加・修正 | `test: ◯◯の計算ロジックのテストコード追加` |

Issue番号を入れる `feature/10-add-login` のようなルールもよく使われます。

---

## 3. 過去の自分に助けてもらう🚨

AIにコードを壊された！そんな時は過去のセーブデータに戻ればいいんです。

### 🕒 履歴を確認する
```bash
git log --oneline
```
これまでの履歴が「ID」付きでズラッと表示されます。これがいわゆる「セーブポイントのリスト」だよ。

### 🔙 特定の場所を打ち消す（git revert）
「あの時の変更だけをなかったことにしたい！」という時は、ログで確認したID（例: a1b2c3d）を使って打ち消します。
```bash
git revert [コミットID]
```
<Aside type="tip"> なぜ revert なの？ 似たコマンドに reset があるけど、revert は「過去を消す」のではなく**「過去を打ち消すという新しい記録」**を作ります。 「間違えたけど、こうやって直したよ！」という履歴が残るから、チーム開発でも安心なプロの戻り方なんだよ✨ </Aside>

---

## 4. 【必須】余計なものは無視する（.gitignore）

Gitには「無視リスト」という仕組みがあります。これが **`.gitignore`** ファイルです。

### 📁 なぜ node_modules は保存しないの？
Viteなどのプロジェクトにある `node_modules` フォルダには、数千、数万ものライブラリファイルが入っています。

* **重すぎる**: 送信に時間がかかりすぎる（ネット回線が死んじゃう！）。
* **再現可能**: `pnpm install` と打てばいつでもネットから再生成できるから、送る必要がないんだよ。

<Aside type="caution" title="gitignoreの役割">
`.gitignore` に `node_modules` と書いておけば、`git add .` をしたときに自動的に除外してくれます。「重いもの」や「パスワード（.env）」は絶対に送らないのが鉄則です。
</Aside>

---

## 5. ブランチ：並行世界を作る

「今の動いている状態」を壊さずに、新しい実験をしたい時は **ブランチ（枝）** を作ります。
そうすることで今動いているサービスやサイトを壊すことなく別の機能の開発やUIの変更などを進めることができます。
また共同開発メンバーに作業をして貰う場合は原則このブランチで開発してもらい、内容をチェックしてからmainに合体(マージ)させます。

```bash
# 「feature/test」という名前の新しい並行世界を作って移動
git switch -c feature/test

# 今どこの世界（ブランチ）にいるか確認
git branch
```
<Aside type="tip"> 実験が成功したら main に戻って合体（マージ）させますが、まずは「別世界で作る」感覚を覚えましょう！ </Aside>

## 6. GitHub：ネット上の共有倉庫へ送る
ローカルに貯めた「セーブポイント」を、リモート（GitHub）にアップロードします。

🔑 倉庫を紐付ける（最初の一回だけ）
<Steps>
1. GitHubで New Repository を作成。
2. 表示される指示に従い、コマンドをターミナルに貼り付ける。
 </Steps>

```Bash
# 1. 住所（リモートのURL）を登録
git remote add origin [https://github.com/ユーザー名/リポジトリ名.git](https://github.com/ユーザー名/リポジトリ名.git)

# 2. 荷物を一気に送る！
git push -u origin main
```
## 7. Vercel：世界へのお披露目ステージ
GitHubに荷物が届いたら、あとはボタン一つで公開です。

### 🚀 デプロイ手順
<Steps>
1. Vercel にログインし、「Add New」→「Project」。
2. さっき作ったGitHubリポジトリを「Import」。
3. 「Deploy」をクリックして待つだけ！ 
</Steps>
<Aside type="tip" title="CI/CD：自動更新の魔法"> 一度デプロイすれば、次からは git push するだけで、Vercelが自動的に新しいサイトを生成・公開してくれます。これを「自動デプロイ」って呼ぶよ✨ </Aside>

### 🚀 演習：世界デビュー・ミッション
<Steps>
1. Gitの初期化: 自分のプロジェクトで git init を実行。
2. 初コミット: git add . して feat: initial commit で commit。
3. GitHubへ送信: リポジトリを作り git push する。
4. Vercel公開: デプロイを完了させ、発行されたURLを貞末（さだすえ）に送ろう！🚀
</Steps>
<Aside type="danger" title="VPoE貞末の鉄則"> .gitignore を編集して .env（秘密の鍵）を隠すのを忘れないこと。全世界にパスワードを公開するのと同じだからね！ </Aside>